{
  "globalConfig": {
    "bootstrapServer": "kafka:9092",
    "topic": "no-filter",
    "dataSchema": {
      "schemaType" : "KAFKA_STRUCT",
      "name": "com.pipeline.kafka.connectors.SyntheticData",
      "fields": [
        {"name": "id", "type": "int32"},
        {"name": "name", "type": "string"},
        {"name": "address", "type": "string"},
        {"name": "zip", "type": "int32"},
        {"name": "phone", "type": "string"},
        {"name": "gender", "type": "string"},
        {"name": "height", "type": "int32"},
        {"name": "weight", "type": "int32"},
        {"name": "age", "type": "int32"},
        {"name": "insurance_company", "type": "int32"},
        {"name": "insurance_number", "type": "string"},
        {"name": "diagnosis", "type": "string"},
        {"name": "glucose", "type": "int32"},
        {"name": "HbA1C", "type": "float32"},
        {"name": "medication", "type": "string"}
      ]
    }
  },
  "streamProperties": [
    {
      "applicationId": "level_1",
      "category": "VALUE_BASED",
      "anonymizers": [
        {
          "anonymizer": "blurring",
          "parameters": [
            {
              "keys": [
                "gender"
              ]
            },
            {
              "nFields": 7
            }
          ]
        },
        {
          "anonymizer": "suppression",
          "parameters": [
            {
              "keys": [
                "diagnosis"
              ]
            }
          ]
        },
        {
          "anonymizer": "noise_methods",
          "parameters": [
            {
              "keys": [
                "glucose", "HbA1C"
              ]
            },
            {
              "noise": 0.2
            }
          ]
        },
        {
          "anonymizer": "bucketizing",
          "parameters": [
            {
              "keys": [
                "age"
              ],
              "bucketSize" : 10
            }
          ]
        },
        {
          "anonymizer": "generalization",
          "parameters": [
            {
              "keys": [
                "zip"
              ],
              "generalizationMap": {
                "0": "Sachsen, Sachsenanhalt",
                "1": "Berlin, Brandenburg, MV",
                "2": "Norddeutschland (¬Berlin)",
                "3": "Niedersachsen, Bremen",
                "4": "NRW",
                "5": "Rheinland-Pfalz, Saarland",
                "6": "Hessen",
                "7": "Baden-Württemberg",
                "8": "Südbayern",
                "9": "Nordbayern"
              }
            }
          ]
        }
      ]
    },
    {
      "applicationId": "level_2",
      "category": "TUPLE_BASED",
      "anonymizers": [
        {
          "anonymizer": "conditional_substitution",
          "parameters": [
            {
              "keys": [
                "name"
              ],
              "conditionMap": {
                "matchValue": "Henri Allgöwer"
              },
              "substitutionList": [
                "Peter Müller"
              ]
            }
          ]
        },
        {
          "anonymizer": "conditional_substitution",
          "parameters": [
            {
              "keys": [
                "age"
              ],
              "conditionMap": {
                "matchRange" : [18, 35.1]
              },
              "substitutionList": [
                "young adult"
              ]
            }
          ]
        },
        {
          "anonymizer": "conditional_substitution",
          "parameters": [
            {
              "keys": [
                "phone"
              ],
              "conditionMap": {
                "matchRegex": "^\\d{5} \\d{6}$"
              },
              "substitutionList": [
                "XXXX - XXXXXXXX"
              ]
            }
          ]
        }
      ]
    },
    {
      "applicationId": "level_3",
      "category": "ATTRIBUTE_BASED",
      "anonymizers": [
        {
          "anonymizer": "aggregation",
          "parameters": [
            {
              "windowSize": 7,
              "keys": [
                "age"
              ],
              "aggregationMode": "count"
            }
          ]
        },
        {
          "anonymizer": "aggregation",
          "parameters": [
            {
              "windowSize": 7,
              "keys": [
                "glucose"
              ],
              "aggregationMode": "median"
            }
          ]
        },
        {
          "anonymizer": "aggregation",
          "parameters": [
            {
              "windowSize": 7,
              "keys": [
                "HbA1C"
              ],
              "aggregationMode": "average"
            }
          ]
        }
      ]
    },
    {
      "applicationId": "level_4",
      "category": "TABLE_BASED",
      "anonymizers": [
        {
          "anonymizer": "k_anonymization",
          "parameters": [
            {
              "windowSize": "1000",
              "k": "4"
            }
          ]
        }
      ]
    },
    {
      "applicationId": "level_5",
      "category": "TABLE_BASED",
      "anonymizers": [
        {
          "anonymizer": "l_diversity",
          "parameters": [
            {
              "windowSize": "1000",
              "k": "4",
              "l": "2"
            }
          ]
        }
      ]
    }
  ]
}
